(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-336229d4"],{"19fe":function(e,t,r){"use strict";r("d8ae")},"1dde":function(e,t,r){var n=r("d039"),a=r("b622"),s=r("2d00"),i=a("species");e.exports=function(e){return s>=51||!n((function(){var t=[],r=t.constructor={};return r[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2881:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));r("99af"),r("b0c0"),r("96cf");var n=r("1da1"),a=r("d4ec"),s=r("bee2"),i=r("262e"),o=r("2caf"),u=r("9ab4"),c=r("8d27"),l=r("dcc8"),f=r("0613"),p=function(e){Object(i["a"])(r,e);var t=Object(o["a"])(r);function r(){var e;return Object(a["a"])(this,r),e=t.apply(this,arguments),e.dialogCityState=!1,e.currentGeo=null,e.currentProvince=null,e.currentAmphur=null,e.currentDistrict=null,e.showName=null,e}return Object(s["a"])(r,[{key:"getGeo",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].getHttp("/api/geo/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getProvince",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].getHttp("/api/province/?geo=".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAmphur",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].getHttp("/api/amphur/?province=".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getDistrict",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].getHttp("/api/district/?amphur=".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setShowName",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a,s,i,o,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=null===(t=this.currentProvince)||void 0===t?void 0:t.name,i=null===(r=this.currentGeo)||void 0===r?void 0:r.name,o=null===(n=this.currentAmphur)||void 0===n?void 0:n.name,u=null===(a=this.currentDistrict)||void 0===a?void 0:a.name,this.showName="".concat(i,"-").concat(s,"-").concat(o,"-").concat(u);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),r}(c["b"]);p=Object(u["a"])([Object(c["a"])({generateMutationSetters:!0})],p);var m=new p({store:f["a"],name:"City"})},3951:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));r("96cf");var n=r("1da1"),a=r("d4ec"),s=r("bee2"),i=r("262e"),o=r("2caf"),u=r("9ab4"),c=r("8d27"),l=r("dcc8"),f=r("f175"),p=r("0613"),m=function(e){Object(i["a"])(r,e);var t=Object(o["a"])(r);function r(){var e;return Object(a["a"])(this,r),e=t.apply(this,arguments),e.Hi=null,e.token=localStorage.getItem("token"),e.user=null,e}return Object(s["a"])(r,[{key:"setUser",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].getHttp("/api/account/".concat(t,"/"));case 2:this.user=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"register",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].postHttp("/api/register",t);case 2:if(n=e.sent,!n.id){e.next=9;break}return r.user=null===n||void 0===n?void 0:n.id,e.next=7,this.autoCreateProfile(r);case 7:return e.next=9,this.autoCreateFarm(null===n||void 0===n?void 0:n.first_name,null===n||void 0===n?void 0:n.id);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"autoCreateProfile",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",l["a"].postHttp("/api/profile/create/",t));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"autoCreateFarm",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",l["a"].postHttp("/api/buffalo/farm/create/",{user_id:r,name:t}));case 1:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"registerAdmin",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].postHttp("/api/register",t);case 2:if(r=e.sent,!r.id){e.next=6;break}return e.next=6,this.autoAddAdmin(null===r||void 0===r?void 0:r.id);case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"autoAddAdmin",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",l["a"].postHttp("/api/changeAdmin/",{user:t}));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeToken",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:f["a"].defaults.headers.common["Authorization"]="";case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"storeToken",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:f["a"].defaults.headers.common["Authorization"]=null!=t?"Token ".concat(t):"";case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"storeTokenToStorage",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:localStorage.setItem("token",t);case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"checkToken",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==this.token){e.next=3;break}return e.next=3,this.storeToken(this.token);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"logout",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return localStorage.clear(),e.next=3,l["a"].postHttp("/api/rest-auth/logout/",{});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),r}(c["b"]);m=Object(u["a"])([Object(c["a"])({generateMutationSetters:!0})],m);var d=new m({store:p["a"],name:"Auth"})},8418:function(e,t,r){"use strict";var n=r("c04e"),a=r("9bf2"),s=r("5c6c");e.exports=function(e,t,r){var i=n(t);i in e?a.f(e,i,s(0,r)):e[i]=r}},"99af":function(e,t,r){"use strict";var n=r("23e7"),a=r("d039"),s=r("e8b5"),i=r("861d"),o=r("7b0b"),u=r("50c4"),c=r("8418"),l=r("65f0"),f=r("1dde"),p=r("b622"),m=r("2d00"),d=p("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",h=m>=51||!a((function(){var e=[];return e[d]=!1,e.concat()[0]!==e})),b=f("concat"),x=function(e){if(!i(e))return!1;var t=e[d];return void 0!==t?!!t:s(e)},w=!h||!b;n({target:"Array",proto:!0,forced:w},{concat:function(e){var t,r,n,a,s,i=o(this),f=l(i,0),p=0;for(t=-1,n=arguments.length;t<n;t++)if(s=-1===t?i:arguments[t],x(s)){if(a=u(s.length),p+a>v)throw TypeError(g);for(r=0;r<a;r++,p++)r in s&&c(f,p,s[r])}else{if(p>=v)throw TypeError(g);c(f,p++,s)}return f.length=p,f}})},b0c0:function(e,t,r){var n=r("83ab"),a=r("9bf2").f,s=Function.prototype,i=s.toString,o=/^\s*function ([^ (]*)/,u="name";n&&!(u in s)&&a(s,u,{configurable:!0,get:function(){try{return i.call(this).match(o)[1]}catch(e){return""}}})},b6f4:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"relative md:pt-32 pb-32 pt-12 mt-24"},[r("CardAddAdmin")],1)},a=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-white border-0"},[r("div",{staticClass:"rounded-t bg-white mb-0 px-6 py-6"},[r("div",{staticClass:"text-center flex justify-between"},[r("h6",{staticClass:"text-gray-800 text-xl font-bold"},[e._v("เพิ่มผู้ดูแลระบบ")]),r("button",{staticClass:"f-white rounded p-2 bg-red-500 hover:bg-red-800 hover:shadow-lg focus:outline-none focus:ring-4 focus:ring-red-600 focus:ring-opacity-50 transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-110",attrs:{type:"button"},on:{click:function(t){return e.$router.go(-1)}}},[r("i",{staticClass:"fas fa-arrow-left text-lg"}),e._v(" กลับไปหน้าข้อมูลผู้ดูแลระบบ ")])])]),r("div",{staticClass:"flex-auto px-4 lg:px-10 py-10 pt-0"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.register(t)}}},[r("h6",{staticClass:"text-gray-500 text-sm mt-3 mb-6 font-bold uppercase"},[e._v(" บัญชี ")]),r("div",{staticClass:"flex flex-wrap"},[r("div",{staticClass:"w-full lg:w-6/12 px-4"},[r("div",{staticClass:"relative w-full mb-3"},[r("label",{staticClass:"block uppercase text-gray-700 text-xs font-bold mb-2"},[e._v(" ชื่อ ")]),r("div",{staticClass:"relative flex w-full flex-wrap items-stretch mb-3 transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-110"},[e._m(0),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formUser.first_name,expression:"formUser.first_name"}],class:e.$xinput+" border-edit focus:ring-1 focus:ring-yellow-600",attrs:{required:"",type:"text",value:" "},domProps:{value:e.formUser.first_name},on:{input:function(t){t.target.composing||e.$set(e.formUser,"first_name",t.target.value)}}})])])]),r("div",{staticClass:"w-full lg:w-6/12 px-4"},[r("div",{staticClass:"relative w-full mb-3"},[r("label",{staticClass:"block uppercase text-gray-700 text-xs font-bold mb-2"},[e._v(" นามสกุล ")]),r("div",{staticClass:"relative flex w-full flex-wrap items-stretch mb-3 transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-110"},[e._m(1),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formUser.last_name,expression:"formUser.last_name"}],class:e.$xinput+" border-edit focus:ring-1 focus:ring-yellow-600",attrs:{required:"",type:"text",value:" "},domProps:{value:e.formUser.last_name},on:{input:function(t){t.target.composing||e.$set(e.formUser,"last_name",t.target.value)}}})])])]),r("div",{staticClass:"w-full lg:w-6/12 px-4"},[r("div",{staticClass:"relative w-full mb-3"},[r("label",{staticClass:"block uppercase text-gray-700 text-xs font-bold mb-2"},[e._v(" ชื่อผู้ใช้งาน ")]),r("div",{staticClass:"relative flex w-full flex-wrap items-stretch mb-3 transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-110"},[e._m(2),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formUser.username,expression:"formUser.username"}],class:e.$xinput+" border-edit focus:ring-1 focus:ring-yellow-600",attrs:{required:"",type:"text",value:" "},domProps:{value:e.formUser.username},on:{input:function(t){t.target.composing||e.$set(e.formUser,"username",t.target.value)}}})])])]),r("div",{staticClass:"w-full lg:w-6/12 px-4"},[r("div",{staticClass:"relative w-full mb-3"},[r("label",{staticClass:"block uppercase text-gray-700 text-xs font-bold mb-2"},[e._v(" อีเมล์ ")]),r("div",{staticClass:"relative flex w-full flex-wrap items-stretch mb-3 transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-110"},[e._m(3),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formUser.email,expression:"formUser.email"}],class:e.$xinput+" border-edit focus:ring-1 focus:ring-yellow-600",attrs:{type:"text",placeholder:"(ไม่บังคับ)"},domProps:{value:e.formUser.email},on:{input:function(t){t.target.composing||e.$set(e.formUser,"email",t.target.value)}}})])])]),r("div",{staticClass:"w-full lg:w-6/12 px-4"},[r("div",{staticClass:"relative w-full mb-3"},[r("label",{staticClass:"block uppercase text-gray-700 text-xs font-bold mb-2",attrs:{htmlFor:"grid-password"}},[e._v(" รหัสผ่าน ")]),r("div",{staticClass:"relative flex w-full flex-wrap items-stretch mb-3 transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-110"},[e._m(4),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formUser.password,expression:"formUser.password"}],staticClass:"px-3 py-3 pl-10 placeholder-gray-400 bg-gray-100 text-black rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150",class:e.$xinput+" border-edit focus:ring-1 focus:ring-yellow-600",attrs:{required:"",type:"password",value:"",value:""},domProps:{value:e.formUser.password},on:{input:function(t){t.target.composing||e.$set(e.formUser,"password",t.target.value)}}})])])]),r("div",{staticClass:"w-full lg:w-6/12 px-4"},[r("div",{staticClass:"relative w-full mb-3"},[r("label",{staticClass:"block uppercase text-gray-700 text-xs font-bold mb-2",attrs:{htmlFor:"grid-password"}},[e._v(" ยืนยันรหัสผ่าน ")]),r("div",{staticClass:"relative flex w-full flex-wrap items-stretch mb-3 transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-110"},[e._m(5),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formUser.password2,expression:"formUser.password2"}],staticClass:"px-3 py-3 pl-10 placeholder-gray-400 bg-gray-100 text-black rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150",class:e.$xinput+" border-edit focus:ring-1 focus:ring-yellow-600",attrs:{required:"",type:"password",value:"",value:""},domProps:{value:e.formUser.password2},on:{input:function(t){t.target.composing||e.$set(e.formUser,"password2",t.target.value)}}})])])])]),e._m(6)])])])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"z-10 h-full leading-snug font-normal absolute text-center text-gray-400 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-2 py-1 mt-1 "},[r("i",{staticClass:"far fa-address-card text-lg text-gray-500"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"z-10 h-full leading-snug font-normal absolute text-center text-gray-400 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-2 py-1 mt-1 "},[r("i",{staticClass:"far fa-address-card text-lg text-gray-500"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"z-10 h-full leading-snug font-normal absolute text-center text-gray-400 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-2 py-1 mt-1 "},[r("i",{staticClass:"fas fa-user text-lg text-gray-500"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"z-10 h-full leading-snug font-normal absolute text-center text-gray-400 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-2 py-1 mt-1 "},[r("i",{staticClass:"far fa-envelope text-lg text-gray-500"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"z-10 h-full leading-snug font-normal absolute text-center text-gray-400 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-2 py-1 mt-1 "},[r("i",{staticClass:"fas fa-key text-lg text-gray-500"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"z-10 h-full leading-snug font-normal absolute text-center text-gray-400 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-2 py-1 mt-1 "},[r("i",{staticClass:"fas fa-key text-lg text-gray-500"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex justify-center mt-6"},[r("button",{staticClass:"f-white rounded p-2 bg-blue-500 hover:bg-blue-800 hover:shadow-lg focus:outline-none focus:ring-4 focus:ring-blue-600 focus:ring-opacity-50 transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-110",attrs:{type:"submit"}},[r("i",{staticClass:"fas fa-save text-lg"}),e._v(" บันทึกข้อมูล ")])])}],o=(r("96cf"),r("1da1")),u=r("d4ec"),c=r("bee2"),l=r("262e"),f=r("2caf"),p=r("9ab4"),m=r("60a3"),d=r("dcc8"),v=r("3951"),g=r("2881"),h=r("c1df"),b=r.n(h),x=r("d4d8"),w=function(e){Object(l["a"])(r,e);var t=Object(f["a"])(r);function r(){var e;return Object(u["a"])(this,r),e=t.apply(this,arguments),e.formUser={},e.formProfile={},e.prefix=[],e.gender=[],e.group=[],e}return Object(c["a"])(r,[{key:"created",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.run();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"run",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["a"].getChoice("คำนำหน้า");case 2:return this.prefix=e.sent,e.next=5,d["a"].getChoice("เพศ");case 5:return this.gender=e.sent,e.next=8,d["a"].getChoice("กลุ่มเกษตรกร");case 8:this.group=e.sent;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onChangeProvince",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.formProfile.age=b()().diff(t,"years",!1);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"register",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v["a"].registerAdmin(this.formUser);case 2:if(t=e.sent,!t.id){e.next=9;break}return e.next=6,x["a"].success("เพิ่มผู้ดูแลระบบสำเร็จ");case 6:this.formUser={},e.next=11;break;case 9:return e.next=11,x["a"].error("เกิดข้อผิดพลาดในการเพิ่มข้อมูลผู้ดูแลระบบ");case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"openCityDialog",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:g["a"].dialogCityState=!0;case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"CityFrom",get:function(){return g["a"].showName}}]),r}(m["c"]);Object(p["a"])([Object(m["d"])("formProfile.birthday")],w.prototype,"onChangeProvince",null),w=Object(p["a"])([Object(m["a"])({components:{},computed:{}})],w);var y=w,k=y,C=(r("19fe"),r("2877")),j=Object(C["a"])(k,s,i,!1,null,null,null),_=j.exports,O={name:"add-admin-page",components:{CardAddAdmin:_}},R=O,U=Object(C["a"])(R,n,a,!1,null,null,null);t["default"]=U.exports},d8ae:function(e,t,r){}}]);
//# sourceMappingURL=chunk-336229d4.5437e09f.js.map